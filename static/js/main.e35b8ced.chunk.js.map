{"version":3,"sources":["components/Card.js","components/CardList.js","components/AddCard.js","components/Modal.js","components/SearchBox.js","components/Scroll.js","components/ErrorBoundry.js","containers/App.js","index.js"],"names":["Card","id","name","email","onDelete","useState","imageLoaded","setImageLoaded","className","style","display","src","alt","loading","with","height","onLoad","href","onClick","cursor","CardList","fans","map","user","i","AddCard","onModalOpen","padding","border","background","MODAL_STYLES","position","top","left","transform","zIndex","OVERLAY_STYLES","right","bottom","backgroundColor","Modal","isModalOpen","setIsModalOpen","onModalClose","addFan","setName","setEmail","ReactDom","createPortal","type","value","placeholder","label","onChange","e","target","preventDefault","test","validateEmail","uuid","alert","document","getElementById","SearchBox","searchField","searchChange","aria-label","Scroll","props","overflowX","overflowY","children","ErrorBoundary","state","hasError","error","info","this","setState","Component","App","setFans","isFetching","setIsFetching","setError","setSearchField","useEffect","window","localStorage","getItem","JSON","parse","fetch","then","response","ok","Error","json","users","catch","message","filteredFans","filter","fan","toLowerCase","includes","event","newFans","setItem","stringify","ErrorBoundry","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e35b8ced.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst Card = ({ id, name, email, onDelete }) => {\r\n  const [imageLoaded, setImageLoaded] = useState(false);\r\n\r\n  return (\r\n    <div className=\"relative tc gold bg-navy dib br3 pa0 ma3 bw2 shadow-5 hover-light-red\">\r\n      <div className=\"grow\">\r\n        <div\r\n          className=\"placeholder bg-navy flex items-center justify-center ma3\"\r\n          style={imageLoaded ? { display: \"none\" } : {}}\r\n        >\r\n          <p>Loading an avatar...</p>\r\n        </div>\r\n        <img\r\n          src={`https://robohash.org/${name}abc?set=set5`}\r\n          alt=\"avatar\"\r\n          className=\"ma3\"\r\n          loading=\"lazy\"\r\n          with={300}\r\n          height={300}\r\n          onLoad={() => setImageLoaded(true)}\r\n          style={imageLoaded ? {} : { display: \"none\" }}\r\n        />\r\n        <div>\r\n          <h2 className=\"pa0 ma0 \">{name}</h2>\r\n          <p className=\"pa0 mb4 mt0 \">{email}</p>\r\n        </div>\r\n      </div>\r\n      <button\r\n        className=\"grow absolute top-1 right-1 hover-light-red b f6 bn br3 pa2 dib bg-gold navy\"\r\n        href=\"#0\"\r\n        onClick={() => onDelete(id)}\r\n        style={{ cursor: \"pointer\" }}\r\n      >\r\n        delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\n\r\nconst CardList = ({ fans, onDelete }) => {\r\n  return (\r\n    <>\r\n      {fans.map((user, i) => {\r\n        return (\r\n          <Card\r\n            key={fans[i].id}\r\n            id={fans[i].id}\r\n            name={fans[i].name}\r\n            email={fans[i].email}\r\n            onDelete={onDelete}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CardList;\r\n","import React from \"react\";\r\nimport \"./AddCard.css\";\r\n\r\nconst AddCard = ({ onModalOpen }) => {\r\n  return (\r\n    <div className=\"relative tc gold bg-navy dib br3 pa0 ma3 bw2 shadow-5 hover-light-red\">\r\n      <div className=\"grow\">\r\n        <div className=\"ma3 placeholder relative\">\r\n          <button\r\n            onClick={onModalOpen}\r\n            display=\"none\"\r\n            style={{\r\n              padding: 0,\r\n              border: \"none\",\r\n              background: \"none\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            <div className=\"circle bg-gold pa0 ma0\">\r\n              <div className=\"add navy pa0 ma0\">âœš</div>\r\n            </div>\r\n          </button>\r\n        </div>\r\n        <div>\r\n          <h2 className=\"pa0 ma0\">Click + to add</h2>\r\n          <p className=\"pa0 mb4 mt0\">a new fan card</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCard;\r\n","import React, { useState } from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport uuid from \"uuid/dist/v4\";\r\n\r\nconst MODAL_STYLES = {\r\n  position: \"fixed\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  padding: \"50px\",\r\n  zIndex: 1000,\r\n};\r\n\r\nconst OVERLAY_STYLES = {\r\n  position: \"fixed\",\r\n  top: 0,\r\n  left: 0,\r\n  right: 0,\r\n  bottom: 0,\r\n  backgroundColor: \"rgba(181, 184, 214, .7)\",\r\n  zIndex: 1000,\r\n};\r\n\r\nexport default function Modal({\r\n  isModalOpen,\r\n  setIsModalOpen,\r\n  onModalClose,\r\n  addFan,\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  function validateEmail(email) {\r\n    var re = /\\S+@\\S+/;\r\n    return re.test(email);\r\n  }\r\n\r\n  function handleAddFan(e) {\r\n    e.preventDefault();\r\n    if (name && validateEmail(email)) {\r\n      addFan({ id: uuid(), name: name, email: email });\r\n      setName(\"\");\r\n      setEmail(\"\");\r\n      setIsModalOpen(false);\r\n    } else {\r\n      alert(\"You must fill name and valid email!\");\r\n    }\r\n  }\r\n  if (!isModalOpen) return null;\r\n\r\n  return ReactDom.createPortal(\r\n    <>\r\n      <div style={OVERLAY_STYLES} onClick={onModalClose} />\r\n      <div\r\n        style={MODAL_STYLES}\r\n        className=\"tc gold bg-navy dib br3 pa2 ma2 bw2 shadow-5\"\r\n      >\r\n        <h1 className=\"mt0\">Add a new fan:</h1>\r\n        <form className=\"ma2 pa2\">\r\n          <input\r\n            className=\"ma1\"\r\n            type=\"text\"\r\n            value={name}\r\n            placeholder=\"name\"\r\n            label=\"name\"\r\n            onChange={(e) => setName(e.target.value)}\r\n          ></input>\r\n          <input\r\n            className=\"ma1\"\r\n            type=\"text\"\r\n            value={email}\r\n            placeholder=\"email\"\r\n            label=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n          <input\r\n            type=\"submit\"\r\n            value=\"add new fan\"\r\n            onClick={handleAddFan}\r\n            className=\"grow hover-light-red b f6 bn br3 pa2 ma1 dib bg-gold navy\"\r\n            style={{ cursor: \"pointer\" }}\r\n          ></input>\r\n        </form>\r\n        <button\r\n          className=\"grow hover-light-red b f6 bn br3 pa2 ma2 mt5 dib bg-gold navy\"\r\n          onClick={onModalClose}\r\n          style={{ cursor: \"pointer\" }}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </>,\r\n    document.getElementById(\"portal\")\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nconst SearchBox = ({ searchField, searchChange }) => {\r\n  return (\r\n    <div className=\"tc pa2 bg-navy\">\r\n      <input\r\n        className=\"tc navy pa1 mt2\"\r\n        type=\"search\"\r\n        placeholder=\"filter fans\"\r\n        value={searchField}\r\n        onChange={searchChange}\r\n        aria-label=\"Search\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\n\r\nconst Scroll = (props) => {\r\n  return (\r\n    <div style={{ overflowX: \"none\", overflowY: \"none\", height: \"auto\" }}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scroll;\r\n","import React, {Component} from \"react\";\r\n\r\nclass ErrorBoundary extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            hasError: false\r\n        }\r\n    }\r\n\r\n    componentDidCatch(error, info){\r\n        this.setState({hasError: true});\r\n    }\r\n\r\n    render(){\r\n        if(this.state.hasError){\r\n            return <h1>Ooops. Error</h1>;\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","import React, { useState, useEffect } from \"react\";\r\nimport CardList from \"../components/CardList.js\";\r\nimport AddCard from \"../components/AddCard.js\";\r\nimport Modal from \"../components/Modal\";\r\nimport SearchBox from \"../components/SearchBox.js\";\r\nimport Scroll from \"../components/Scroll.js\";\r\nimport ErrorBoundry from \"../components/ErrorBoundry\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [fans, setFans] = useState([]);\r\n  const [isFetching, setIsFetching] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [searchField, setSearchField] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setIsFetching(true);\r\n    if (window.localStorage.getItem(\"fans\")) {\r\n      setFans(JSON.parse(window.localStorage.getItem(\"fans\")));\r\n      setIsFetching(false);\r\n      setError(null);\r\n    } else {\r\n      fetch(\"https://jsonplaceholder.typicode.com/users\")\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(\"Failed to fetch data\");\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((users) => {\r\n          setFans(users);\r\n          setError(null);\r\n          setIsFetching(false);\r\n        })\r\n        .catch((error) => {\r\n          setError(error.message);\r\n          setIsFetching(false);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const onSearchChange = (event) => {\r\n    setSearchField(event.target.value);\r\n  };\r\n\r\n  const deleteFan = (id) => {\r\n    const newFans = fans.filter((fan) => fan.id !== id);\r\n    setFans(newFans);\r\n    window.localStorage.setItem(\"fans\", JSON.stringify(newFans));\r\n    // optionally delete empty fan list from ls (\"reset fan list\")\r\n    // if (!newFans.length) {\r\n    //   window.localStorage.removeItem(\"fans\");\r\n    // }\r\n  };\r\n\r\n  function handleClose() {\r\n    setIsModalOpen(false);\r\n  }\r\n  function handleOpen() {\r\n    setIsModalOpen(true);\r\n  }\r\n\r\n  function addFan(fan) {\r\n    const newFans = [...fans, fan];\r\n    setFans(newFans);\r\n    window.localStorage.setItem(\"fans\", JSON.stringify(newFans));\r\n  }\r\n\r\n  const filteredFans = fans.filter((fan) => {\r\n    return fan.name.toLowerCase().includes(searchField.toLowerCase());\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"bg-navy ma0 pa2 bw2\">My Fanclub</h1>\r\n      <SearchBox searchField={searchField} searchChange={onSearchChange} />\r\n      {error ? (\r\n        <h1>{error}</h1>\r\n      ) : isFetching ? (\r\n        <h1>Loading fans...</h1>\r\n      ) : (\r\n        <Scroll>\r\n          <AddCard onModalOpen={handleOpen} />\r\n          <Modal\r\n            isModalOpen={isModalOpen}\r\n            setIsModalOpen={setIsModalOpen}\r\n            onModalClose={handleClose}\r\n            addFan={addFan}\r\n          ></Modal>\r\n          <ErrorBoundry>\r\n            <CardList fans={filteredFans} onDelete={deleteFan} />\r\n          </ErrorBoundry>\r\n        </Scroll>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './containers/App.js'\r\nimport 'tachyons';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <div className='tc'>\r\n    <App />\r\n    </div>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}