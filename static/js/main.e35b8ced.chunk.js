(this.webpackJsonpfans=this.webpackJsonpfans||[]).push([[0],{18:function(e,t,a){},19:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(4),l=a.n(s),i=(a(18),a(11)),o=a(2),d=function(e){var t=e.id,a=e.name,r=e.email,s=e.onDelete,l=Object(c.useState)(!1),i=Object(o.a)(l,2),d=i[0],b=i[1];return Object(n.jsxs)("div",{className:"relative tc gold bg-navy dib br3 pa0 ma3 bw2 shadow-5 hover-light-red",children:[Object(n.jsxs)("div",{className:"grow",children:[Object(n.jsx)("div",{className:"placeholder bg-navy flex items-center justify-center ma3",style:d?{display:"none"}:{},children:Object(n.jsx)("p",{children:"Loading an avatar..."})}),Object(n.jsx)("img",{src:"https://robohash.org/".concat(a,"abc?set=set5"),alt:"avatar",className:"ma3",loading:"lazy",with:300,height:300,onLoad:function(){return b(!0)},style:d?{}:{display:"none"}}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"pa0 ma0 ",children:a}),Object(n.jsx)("p",{className:"pa0 mb4 mt0 ",children:r})]})]}),Object(n.jsx)("button",{className:"grow absolute top-1 right-1 hover-light-red b f6 bn br3 pa2 dib bg-gold navy",href:"#0",onClick:function(){return s(t)},style:{cursor:"pointer"},children:"delete"})]})},b=function(e){var t=e.fans,a=e.onDelete;return Object(n.jsx)(n.Fragment,{children:t.map((function(e,c){return Object(n.jsx)(d,{id:t[c].id,name:t[c].name,email:t[c].email,onDelete:a},t[c].id)}))})},j=(a(19),function(e){var t=e.onModalOpen;return Object(n.jsx)("div",{className:"relative tc gold bg-navy dib br3 pa0 ma3 bw2 shadow-5 hover-light-red",children:Object(n.jsxs)("div",{className:"grow",children:[Object(n.jsx)("div",{className:"ma3 placeholder relative",children:Object(n.jsx)("button",{onClick:t,display:"none",style:{padding:0,border:"none",background:"none",cursor:"pointer"},children:Object(n.jsx)("div",{className:"circle bg-gold pa0 ma0",children:Object(n.jsx)("div",{className:"add navy pa0 ma0",children:"\u271a"})})})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"pa0 ma0",children:"Click + to add"}),Object(n.jsx)("p",{className:"pa0 mb4 mt0",children:"a new fan card"})]})]})})}),h=a(7),u=a.n(h),m={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"50px",zIndex:1e3},O={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(181, 184, 214, .7)",zIndex:1e3};function f(e){var t=e.isModalOpen,a=e.setIsModalOpen,r=e.onModalClose,s=e.addFan,i=Object(c.useState)(""),d=Object(o.a)(i,2),b=d[0],j=d[1],h=Object(c.useState)(""),f=Object(o.a)(h,2),p=f[0],g=f[1];return t?l.a.createPortal(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:O,onClick:r}),Object(n.jsxs)("div",{style:m,className:"tc gold bg-navy dib br3 pa2 ma2 bw2 shadow-5",children:[Object(n.jsx)("h1",{className:"mt0",children:"Add a new fan:"}),Object(n.jsxs)("form",{className:"ma2 pa2",children:[Object(n.jsx)("input",{className:"ma1",type:"text",value:b,placeholder:"name",label:"name",onChange:function(e){return j(e.target.value)}}),Object(n.jsx)("input",{className:"ma1",type:"text",value:p,placeholder:"email",label:"email",onChange:function(e){return g(e.target.value)}}),Object(n.jsx)("input",{type:"submit",value:"add new fan",onClick:function(e){e.preventDefault(),b&&function(e){return/\S+@\S+/.test(e)}(p)?(s({id:u()(),name:b,email:p}),j(""),g(""),a(!1)):alert("You must fill name and valid email!")},className:"grow hover-light-red b f6 bn br3 pa2 ma1 dib bg-gold navy",style:{cursor:"pointer"}})]}),Object(n.jsx)("button",{className:"grow hover-light-red b f6 bn br3 pa2 ma2 mt5 dib bg-gold navy",onClick:r,style:{cursor:"pointer"},children:"Cancel"})]})]}),document.getElementById("portal")):null}var p=function(e){var t=e.searchField,a=e.searchChange;return Object(n.jsx)("div",{className:"tc pa2 bg-navy",children:Object(n.jsx)("input",{className:"tc navy pa1 mt2",type:"search",placeholder:"filter fans",value:t,onChange:a,"aria-label":"Search"})})},g=function(e){return Object(n.jsx)("div",{style:{overflowX:"none",overflowY:"none",height:"auto"},children:e.children})},v=a(8),x=a(9),y=a(12),w=a(10),N=function(e){Object(y.a)(a,e);var t=Object(w.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(x.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(n.jsx)("h1",{children:"Ooops. Error"}):this.props.children}}]),a}(c.Component);a(24);var S=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)([]),l=Object(o.a)(s,2),d=l[0],h=l[1],u=Object(c.useState)(!1),m=Object(o.a)(u,2),O=m[0],v=m[1],x=Object(c.useState)(null),y=Object(o.a)(x,2),w=y[0],S=y[1],C=Object(c.useState)(""),k=Object(o.a)(C,2),I=k[0],M=k[1];Object(c.useEffect)((function(){v(!0),window.localStorage.getItem("fans")?(h(JSON.parse(window.localStorage.getItem("fans"))),v(!1),S(null)):fetch("https://jsonplaceholder.typicode.com/users").then((function(e){if(!e.ok)throw new Error("Failed to fetch data");return e.json()})).then((function(e){h(e),S(null),v(!1)})).catch((function(e){S(e.message),v(!1)}))}),[]);var F=d.filter((function(e){return e.name.toLowerCase().includes(I.toLowerCase())}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"bg-navy ma0 pa2 bw2",children:"My Fanclub"}),Object(n.jsx)(p,{searchField:I,searchChange:function(e){M(e.target.value)}}),w?Object(n.jsx)("h1",{children:w}):O?Object(n.jsx)("h1",{children:"Loading fans..."}):Object(n.jsxs)(g,{children:[Object(n.jsx)(j,{onModalOpen:function(){r(!0)}}),Object(n.jsx)(f,{isModalOpen:a,setIsModalOpen:r,onModalClose:function(){r(!1)},addFan:function(e){var t=[].concat(Object(i.a)(d),[e]);h(t),window.localStorage.setItem("fans",JSON.stringify(t))}}),Object(n.jsx)(N,{children:Object(n.jsx)(b,{fans:F,onDelete:function(e){var t=d.filter((function(t){return t.id!==e}));h(t),window.localStorage.setItem("fans",JSON.stringify(t))}})})]})]})};a(25);l.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)("div",{className:"tc",children:Object(n.jsx)(S,{})})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.e35b8ced.chunk.js.map